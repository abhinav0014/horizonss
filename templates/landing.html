{% extends 'base.html' %}
{% load static %}

{% block title %}Home - New Horizon{% endblock %}

{% block content %}
<style>
    nav{
        @apply hidden;
    }
  .landing-bg {
    background-image: url('{% static "images/landing-bg.jpg" %}');
    background-size: cover;
    background-position: center;
    min-height: 100vh;
    position: relative;
  }
  .fade-in-menu {
    transition: opacity 0.4s;
    opacity: 0;
    pointer-events: none;
  }
  .fade-in-menu.visible {
    opacity: 1;
    pointer-events: auto;
  }
</style>

<!-- Fullscreen Landing Section -->
<div class="landing-bg w-full h-screen flex flex-col justify-between items-center relative">
  <!-- Logo Centered -->
  <div class="flex-1 flex items-center justify-center w-full">
    <img src="{% static 'images/logo.png' %}" alt="School Logo" class="h-32 w-auto drop-shadow-xl bg-white/80 rounded-xl p-4" />
  </div>
  <!-- Typing Animation at Bottom -->
  <div class="w-full flex justify-center pb-12">
    <span class="text-white text-2xl md:text-3xl font-semibold bg-black/60 px-6 py-3 rounded-lg shadow-lg">
      <span id="typed"></span>
    </span>
  </div>
  <!-- Overlay for better contrast -->
  <div class="absolute inset-0 bg-black/40"></div>
</div>

<!-- Navigation Bar (hidden initially, appears after 50vh scroll) -->
<nav id="mainNav" class="fixed top-0 left-0 w-full -translate-y-full transition-transform duration-300 ease-in-out z-50 bg-white/95 backdrop-blur-md shadow-lg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <div class="flex items-center gap-2">
                <img src="{% static 'images/logo-shield.png' %}" alt="Shield Logo" class="h-10">
                <img src="{% static 'images/logo-modern.png' %}" alt="Modern Logo" class="h-8">
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">About</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Programs</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Campus</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium transition-colors">Admissions</a>
                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                    Apply Now
                </button>
            </div>
            <button class="md:hidden text-gray-700" onclick="toggleMobileMenu()">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Mobile Menu -->
<div id="mobileMenu" class="fixed inset-0 bg-white transform translate-x-full transition-transform duration-300 ease-in-out z-40">
    <div class="flex flex-col h-full">
        <div class="p-4 border-b flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img src="{% static 'images/logo-shield.png' %}" alt="Shield Logo" class="h-8">
                <img src="{% static 'images/logo-modern.png' %}" alt="Modern Logo" class="h-6">
            </div>
            <button onclick="toggleMobileMenu()" class="text-gray-700">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <div class="flex-1 p-4 space-y-4">
            <a href="#" class="block p-4 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">About</a>
            <a href="#" class="block p-4 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">Programs</a>
            <a href="#" class="block p-4 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">Campus</a>
            <a href="#" class="block p-4 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">Admissions</a>
        </div>
        <div class="p-4 border-t">
            <button class="w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                Apply Now
            </button>
        </div>
    </div>
</div>

<!-- Hero Section -->
<section class="min-h-screen relative overflow-hidden">
    <!-- Gradient Background with Clouds -->
    <div class="absolute inset-0 bg-gradient-to-b from-sky-400 to-sky-300">
        <!-- Cloud SVGs -->
        <div class="absolute bottom-0 left-0 right-0 h-32 opacity-75">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="absolute bottom-0">
                <path fill="white" fill-opacity="0.5" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,202.7C672,203,768,181,864,181.3C960,181,1056,203,1152,202.7C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
            </svg>
        </div>
    </div>

    <!-- Content -->
    <div class="relative z-10 container mx-auto px-4 pt-20">
        <!-- Logos Section -->
        <div class="flex justify-center items-center gap-8 mb-16">
            <div class="text-center">
                <img src="{% static 'images/logo-shield.png' %}" alt="Shield Logo" class="h-24 md:h-32 mx-auto mb-4">
                <h2 class="text-white text-lg">Islington College</h2>
                <h3 class="text-white/80 text-sm">इस्लिंगटन कलेज</h3>
            </div>
            <div class="text-center">
                <img src="{% static 'images/logo-modern.png' %}" alt="Modern Logo" class="h-20 md:h-28 mx-auto mb-4">
            </div>
        </div>

        <!-- Heading -->
        <div class="text-center mb-24">
            <h1 class="text-white font-bold text-3xl md:text-5xl tracking-wider mb-4">
                DEVELOPING INDUSTRY READY GRADUATES
            </h1>
            <p class="text-white/90 text-sm md:text-base">SINCE 1996</p>
        </div>
    </div>

    <!-- Bottom Section -->
    <div class="absolute bottom-0 left-0 right-0 min-h-[60vh] bg-cover bg-center" 
         style="background-image: url('{% static 'images/cafe.jpg' %}');">
        <div class="absolute inset-0 bg-black/40"></div>
        <div class="relative z-10 container mx-auto px-4 h-full flex flex-col justify-end pb-16">
            <div class="mb-8">
                <h2 class="text-white text-6xl md:text-8xl font-bold mb-2">YOUR</h2>
                <h2 class="text-yellow-400 text-6xl md:text-8xl font-bold -mr-20">MEMORIES</h2>
            </div>
            <p class="text-white/90 text-sm md:text-base max-w-2xl mx-auto text-center">
                Ensuring pleasant lifestyle alongside a secure future through innovation and excellence
            </p>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const nav = document.getElementById('mainNav');
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;
        const halfHeight = window.innerHeight / 2;

        if (currentScroll > halfHeight) {
            nav.classList.remove('-translate-y-full');
        } else {
            nav.classList.add('-translate-y-full');
        }

        lastScroll = currentScroll;
    });
});

function toggleMobileMenu() {
    const menu = document.getElementById('mobileMenu');
    menu.classList.toggle('translate-x-full');
}
</script>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
<script>
  // Typing animation
  document.addEventListener('DOMContentLoaded', function() {
    new Typed('#typed', {
      strings: [
        "Your School. Your Future.",
        "Inspiring Excellence.",
        "Empowering Students.",
        "Building Community.",
        "Shaping Tomorrow."
      ],
      typeSpeed: 50,
      backSpeed: 30,
      backDelay: 1800,
      loop: true
    });
  });

  // Show menu after 50vh scroll
  document.addEventListener('scroll', function() {
    const nav = document.querySelector('header');
    if (window.scrollY > window.innerHeight / 2) {
      nav.classList.remove('hidden');
    } else {
      nav.classList.add('hidden');
    }
  });
</script>
{% endblock %}